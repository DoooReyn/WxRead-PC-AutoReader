var _0x3a0f=['IPC_EVENT_PASS','win32','removeAllListeners','FEED_URL_FOR_WIN_64','eGwdH','nFTAp','qscqw','ZLWqo','mwaTs','EXPORT_PATH','closeDevTools','showMessageBoxSync','ZiSWF','WEpTP','微读·读书笔记','whenReady','FILE_RENDERER','IPC_EVENT_UPDATE','kejcj','rkyHn','warning','GZPht','正在导出《','2|0|3|1|4','getPath','vAUel','ArRhy','XWTrG','buildFromTemplate','eZmlQ','WOErV','READING_URL','getContentSize','kygpk','percent','RAHCy','get','CLIENT_WIDTH','ipcMain','退出更新','roXdE','rzJOH','xZLzl','gqkbD','checkForUpdates','sRYLr','aQjMW','IPC_MSG_UPDATE_PROGRESS','UOuuT','IPC_MSG_OPEN_READ_PAGE','_CONSTANTS','WEREAD_HOME_URL','RccEA','EAeMi','正在下载安装包\x20','IPC_MSG_OPEN_HOME_PAGE','RELEASE_VERSION','rDwMy','webContents','setFeedURL','hXRwV','yAZPd','fZlxx','Tray','off','fwBnx','hAfWI','rNUjb','iCPlw','PREVENT_DISPLAY_SLEEP','CMpdG','autoUpdater','loadURL','download-progress','split','quit','WUaON','FILE_HELP','weYBM','check\x20update\x20from\x20url:\x20','QMPuo','stringify','documents','qQCWl','CLIENT_HEIGHT','setApplicationMenu','更新程序正在运行，是否继续退出？','isFullScreen','MiZGz','_UpdateProgress','electron','VScia','length','uKKkT','setToolTip','show','YLZyt','DLJzI','kCTHo','log','set','cRwqD','下载进度','dAFDo','setProgressBar','filePath','XyvBh','showSaveDialog','kmbNo','oVwit','AIdGF','sAjvb','CQafP','FILE_TRAY_ICON','update-downloaded','drWtX','Peztu','iWlmP','》读书笔记','IISJn','OXQhj','openDevTools','window-all-closed','不等了','IPC_MSG_READ_BOOK','XKEiy','closed','setContextMenu','vfujy','kliBC','update-not-available','vHxiU','vghCi','IPC_MSG_BACK_HOME','aqQbI','brAHN','USER_DATA_SCHEMA_KEY','FILE_DESKTOP_ICON','RcTgn','IPC_MSG_OPEN_DEVTOOLS','popUpContextMenu','OoFJV','JqQEN','loadFile','right-click','click','utf8','uPJaE','iVlNd','PRODUCT_NAME','GUiSz','Menu','4|1|2|3|0','PAKox','TpaBd','再等会','notes','autoDownload','adXeI','HvMdW','Katdg','getInstance','BIurn','lgxrF','then','VQsyj','FDPEN','ia32','shell','IPC_MSG_OPEN_HELP_PAGE','disableHardwareAcceleration','WEB_EVENT_DID_STOP_LOAD','IPC_MSG_UPDATE_CONFIRM','vkxkA','BrowserWindow','bfNga','VfFTP','FSSId','ready-to-show','showItemInFolder','IPC_EVENT_ECHO','normal','YjgWq','aGKYc','SPMqz','下载更新完成\x0a3秒后开始安装','isDevToolsOpened','electron-updater','MzKrq','_UserData','CbUYv','recv\x20ipc\x20event:','NoHPk','parse','path','cwRAG','platform','hrQaa','execPath','preventDefault','setAppDetails','aLmic','uYbik','destroy','QulyN','arch','Vbxzt','_MainWin','CDJPl','MMyNl','_PowerID','PREVENT_SLEEP','zgoni','kKDOO','BgIKN','setFullScreen','EIfwD','MwKsU','close','error','_Tray','toFixed','powerSaveBlocker','TEXT_QUIT_APPLICATION','stop','FEED_URL_FOR_MAC','LnPyA','JHQXL','IPC_MSG_UPDATE_CHECK','JsCfT','iJkPn','IPC_MSG_EXPORT_BOOK_NOTES','AMKRJ'];(function(_0x27e3ed,_0x3a0fe1){var _0x3a67c4=function(_0x1576ec){while(--_0x1576ec){_0x27e3ed['push'](_0x27e3ed['shift']());}};_0x3a67c4(++_0x3a0fe1);}(_0x3a0f,0x10b));var _0x3a67=function(_0x27e3ed,_0x3a0fe1){_0x27e3ed=_0x27e3ed-0x0;var _0x3a67c4=_0x3a0f[_0x27e3ed];return _0x3a67c4;};'use strict';var _require=require(_0x3a67('0x38')),app=_require['app'],ipcMain=_require[_0x3a67('0x4')],dialog=_require['dialog'],shell=_require[_0x3a67('0x86')],BrowserWindow=_require[_0x3a67('0x8c')],Menu=_require[_0x3a67('0x75')],Tray=_require[_0x3a67('0x1d')],powerSaveBlocker=_require[_0x3a67('0xbc')],OS=require('os'),FILE=require('fs'),PATH=require(_0x3a67('0xa0')),CONSTANTS=require('./constants'),UserData=require('./user-data'),_require2=require(_0x3a67('0x99')),autoUpdater=_require2[_0x3a67('0x25')];global[_0x3a67('0xad')]=null,global[_0x3a67('0xba')]=null,global[_0x3a67('0xb0')]=null,global[_0x3a67('0x10')]=CONSTANTS,global[_0x3a67('0x37')]=0x0,global[_0x3a67('0x9b')]=UserData[_0x3a67('0x7f')](),app['setAppUserModelId'](process[_0x3a67('0xa4')]),app[_0x3a67('0x88')](),app['on'](_0x3a67('0x58'),function(){var _0x2c8f1a={'JqQEN':function(_0xc300e9,_0x9d925a){return _0xc300e9!==_0x9d925a;}};if(_0x2c8f1a[_0x3a67('0x6c')](process[_0x3a67('0xa2')],'darwin'))app['quit']();}),app[_0x3a67('0xd6')]()[_0x3a67('0x82')](function(){var _0x434597={'BgIKN':function(_0x37f301,_0x5e0c91){return _0x37f301===_0x5e0c91;},'aQjMW':function(_0x51b167){return _0x51b167();},'eFvwT':function(_0x4000b6){return _0x4000b6();},'RAHCy':'activate'};_0x434597['eFvwT'](openMainWindow),app['on'](_0x434597[_0x3a67('0x1')],function(){if(_0x434597[_0x3a67('0xb4')](BrowserWindow['getAllWindows']()[_0x3a67('0x3a')],0x0))_0x434597[_0x3a67('0xc')](openMainWindow);});});function openMainWindow(){var _0x1bb7d1={'OoFJV':_0x3a67('0xb2'),'RcTgn':function(_0x1e98d5,_0x16d030){return _0x1e98d5(_0x16d030);},'adXeI':_0x3a67('0x90'),'MXGiL':_0x3a67('0xb8'),'XyvBh':function(_0x263e2f){return _0x263e2f();},'JHQXL':function(_0x5ec192){return _0x5ec192();}};if(_MainWin)return;_MainWin=new BrowserWindow({'useContentSize':!![],'width':_UserData[_0x3a67('0x2')](CONSTANTS['USER_DATA_SCHEMA_KEY'][_0x3a67('0x3')]),'height':_UserData[_0x3a67('0x2')](CONSTANTS[_0x3a67('0x66')][_0x3a67('0x32')]),'minWidth':0x280,'minHeight':0x1e0,'icon':CONSTANTS[_0x3a67('0x67')],'show':![],'autoHideMenuBar':!![],'webPreferences':{'devTools':!CONSTANTS[_0x3a67('0x16')],'enableRemoteModule':!![],'webviewTag':!![],'nodeIntegration':!![],'preload':CONSTANTS[_0x3a67('0xd7')]}}),_MainWin[_0x3a67('0xa6')]({'appId':CONSTANTS[_0x3a67('0x73')],'appIconPath':CONSTANTS['FILE_TRAY_ICON'],'relaunchDisplayName':CONSTANTS['PRODUCT_NAME']}),_MainWin['on'](_0x1bb7d1[_0x3a67('0x7c')],function(){_MainWin[_0x3a67('0x3d')]();}),_MainWin['on'](_0x1bb7d1['MXGiL'],function(_0x2d0a36){if(_0x1bb7d1[_0x3a67('0x6b')]===_0x3a67('0x5e')){function _0x5125b7(){_Tray[_0x3a67('0x6a')](menu);}}else _0x1bb7d1['RcTgn'](closeFocusWindow,_0x2d0a36);}),_MainWin['on'](_0x3a67('0x5c'),function(){_Tray=null,_MainWin=null;}),_MainWin[_0x3a67('0x18')][_0x3a67('0x1e')](CONSTANTS[_0x3a67('0x89')],sendLoadedToRenderer),_MainWin['webContents']['on'](CONSTANTS[_0x3a67('0x89')],sendLoadedToRenderer),_MainWin[_0x3a67('0x6d')](CONSTANTS[_0x3a67('0x2b')]),_0x1bb7d1[_0x3a67('0x48')](doCheckUpdate),Menu[_0x3a67('0x33')](null),_0x1bb7d1[_0x3a67('0xc1')](openSystemTray),_0x1bb7d1[_0x3a67('0x68')](preventDisplaySleep,_UserData['get'](CONSTANTS['USER_DATA_SCHEMA_KEY'][_0x3a67('0xb1')]));}function sendToRenderer(_0x169692,_0x25038c){_MainWin[_0x3a67('0x18')]['send'](_0x169692,_0x25038c);}function sendLoadedToRenderer(){var _0x274866={'XwxGO':function(_0x2ab524,_0x6e6d91,_0x49b354){return _0x2ab524(_0x6e6d91,_0x49b354);}};_0x274866['XwxGO'](sendToRenderer,CONSTANTS[_0x3a67('0xc7')],CONSTANTS['IPC_MSG_WEB_DID_LOAD']);}function sendUpdateToRenderer(_0x5aaa18){var _0x2380ba={'iWlmP':function(_0x5783c1,_0x358d5d,_0x4a8cc3){return _0x5783c1(_0x358d5d,_0x4a8cc3);}};_0x2380ba[_0x3a67('0x53')](sendToRenderer,CONSTANTS[_0x3a67('0xd8')],_0x5aaa18);}function openReadPage(){if(!_MainWin)return;_MainWin[_0x3a67('0x18')]['loadURL'](_UserData['get'](CONSTANTS[_0x3a67('0x66')][_0x3a67('0xe6')]));}function viewHomePage(){if(!_MainWin)return;_MainWin[_0x3a67('0x18')]['loadURL'](CONSTANTS[_0x3a67('0x11')]);}function viewHelpPage(){if(!_MainWin)return;_MainWin[_0x3a67('0x18')][_0x3a67('0x6d')](CONSTANTS[_0x3a67('0x2b')]);}function changeFullscreen(){if(!_MainWin)return;_MainWin[_0x3a67('0xb5')](!_MainWin[_0x3a67('0x35')]());}function openDevTools(){if(!_MainWin||CONSTANTS['RELEASE_VERSION'])return;_MainWin[_0x3a67('0x18')][_0x3a67('0x98')]()?_MainWin[_0x3a67('0x18')][_0x3a67('0xd1')]():_MainWin[_0x3a67('0x18')][_0x3a67('0x57')]();}function exportBookNotes(_0x136a35){var _0x5934bc={'CQafP':'LhJUI','Vbxzt':'UoPkZ','cRwqD':function(_0x566bbd,_0x46b491,_0x5a9f6f){return _0x566bbd(_0x46b491,_0x5a9f6f);},'kCTHo':function(_0x44e6fc,_0x80dff2){return _0x44e6fc!==_0x80dff2;},'PAKox':function(_0x1a6f30,_0x3ad09e){return _0x1a6f30!==_0x3ad09e;},'VQsyj':_0x3a67('0x62'),'gqkbD':_0x3a67('0xc4'),'wnjGZ':_0x3a67('0x70'),'xZLzl':function(_0xf71d77,_0x2f19b4){return _0xf71d77+_0x2f19b4;},'qQCWl':'》读书笔记','kejcj':function(_0x5c656f,_0x3201bf){return _0x5c656f+_0x3201bf;},'hrQaa':_0x3a67('0xdd'),'lgxrF':function(_0x161286,_0x1f86db){return _0x161286+_0x1f86db;},'ATLCS':function(_0x562d17,_0x46ec31){return _0x562d17+_0x46ec31;},'brAHN':'.md'},_0x2d6fc=JSON[_0x3a67('0x9f')](_0x136a35),_0xa9f158=_0x5934bc[_0x3a67('0x8')](_0x5934bc[_0x3a67('0x8')]('《',_0x2d6fc['book']),_0x5934bc[_0x3a67('0x31')]),_0x1e30e0=_0x5934bc[_0x3a67('0xd9')](_0x5934bc[_0x3a67('0xd9')](_0x5934bc[_0x3a67('0xa3')],_0x2d6fc['book']),_0x3a67('0x54')),_0x35aefb=_0x5934bc[_0x3a67('0xd9')](_0x5934bc[_0x3a67('0x81')]('《',_0x2d6fc['book']),'》读书笔记导出成功'),_0x30f898=_0x5934bc['ATLCS']('《',_0x2d6fc['book'])+'》读书笔记导出取消',_0x4f38f4=_UserData['get'](CONSTANTS['USER_DATA_SCHEMA_KEY'][_0x3a67('0xd0')])||app[_0x3a67('0xdf')](_0x3a67('0x30')),_0x3cd309=PATH['join'](_0x4f38f4,_0xa9f158+_0x5934bc[_0x3a67('0x65')]);dialog[_0x3a67('0x49')](_MainWin,{'title':_0x1e30e0,'defaultPath':_0x3cd309,'message':_0x1e30e0,'filters':[{'name':_0x3a67('0xd5'),'extensions':['md']}]})['then'](function(_0xbd608d){var _0x2fdcb8={'FSSId':function(_0xa7fb0f,_0x2d2206,_0x2ebefd){return _0x5934bc[_0x3a67('0x43')](_0xa7fb0f,_0x2d2206,_0x2ebefd);}};if(_0x5934bc[_0x3a67('0x40')](_0x3a67('0xcd'),_0x3a67('0xcd'))){function _0x448636(){if(!_MainWin||CONSTANTS['RELEASE_VERSION'])return;_MainWin['webContents']['isDevToolsOpened']()?_MainWin[_0x3a67('0x18')][_0x3a67('0xd1')]():_MainWin[_0x3a67('0x18')][_0x3a67('0x57')]();}}else{console['log'](_0xbd608d);if(!_0xbd608d['cancel']){if(_0x5934bc[_0x3a67('0x77')](_0x5934bc[_0x3a67('0x83')],_0x5934bc[_0x3a67('0x9')])){FILE['writeFile'](_0xbd608d[_0x3a67('0x47')],_0x2d6fc[_0x3a67('0x7a')],_0x5934bc['wnjGZ'],function(_0x2057c2){if(_0x5934bc[_0x3a67('0x4e')]!==_0x5934bc[_0x3a67('0xac')]){if(_0x2057c2)return console['log'](_0x2057c2);_UserData[_0x3a67('0x42')](CONSTANTS[_0x3a67('0x66')]['EXPORT_PATH'],PATH['dirname'](_0xbd608d[_0x3a67('0x47')])),shell[_0x3a67('0x91')](_0xbd608d['filePath']),console[_0x3a67('0x41')](_0x35aefb);}else{function _0x241848(){return CONSTANTS['FEED_URL_FOR_MAC'];}}});return;}else{function _0x5e397c(){console[_0x3a67('0x41')](_0x3a67('0x9d'),msg,args),_0x2fdcb8[_0x3a67('0x8f')](handleEchoEvent,msg,args);}}}console[_0x3a67('0x41')](_0x30f898);}});}function openSystemTray(){var _0x45487d={'roXdE':function(_0x2723f1){return _0x2723f1();},'HvMdW':'GCVNc'};if(_Tray)return;var _0x5b5500=Menu[_0x3a67('0xe3')]([{'label':CONSTANTS[_0x3a67('0xbd')],'click':function _0x30b7f3(){_0x45487d[_0x3a67('0x6')](quitApplication);}}]);_Tray=new Tray(CONSTANTS['FILE_TRAY_ICON']),_Tray[_0x3a67('0x5d')](_0x5b5500),_Tray[_0x3a67('0x3c')](CONSTANTS[_0x3a67('0x73')]),_Tray['on'](_0x3a67('0x6f'),function(){_MainWin[_0x3a67('0x3d')]();}),_Tray['on'](_0x3a67('0x6e'),function(){if('GCVNc'!==_0x45487d[_0x3a67('0x7d')]){function _0x2825b5(){autoUpdater['quitAndInstall']();}}else _Tray[_0x3a67('0x6a')](_0x5b5500);});}function saveUserDataBeforeQuit(){var _0xee73fa={'fZlxx':function(_0x46ea2c,_0x2dd8c6){return _0x46ea2c||_0x2dd8c6;}};if(_0xee73fa[_0x3a67('0x1c')](!_MainWin,!_UserData))return;var _0x136891=_MainWin[_0x3a67('0xe7')]();_UserData['set'](CONSTANTS[_0x3a67('0x66')][_0x3a67('0x3')],_0x136891[0x0]),_UserData[_0x3a67('0x42')](CONSTANTS['USER_DATA_SCHEMA_KEY'][_0x3a67('0x32')],_0x136891[0x1]);}function closeFocusWindow(_0xe7d92d){var _0x31a08c={'iVlNd':'recv\x20app\x20event:','Ixcqa':function(_0x4590e0,_0x38dea4,_0x511e1f){return _0x4590e0(_0x38dea4,_0x511e1f);},'dAFDo':_0x3a67('0x90'),'ijSRn':_0x3a67('0xb8'),'WOErV':_0x3a67('0x5c'),'uKKkT':function(_0x49f5a3){return _0x49f5a3();},'cwRAG':function(_0x48ea83,_0x340370){return _0x48ea83(_0x340370);},'kmbNo':function(_0x5657e8,_0x37e198){return _0x5657e8===_0x37e198;},'DLJzI':function(_0x594892,_0x10f5b1){return _0x594892===_0x10f5b1;},'MiZGz':_0x3a67('0xd4'),'LnPyA':function(_0x56f506,_0x14fb5f){return _0x56f506>_0x14fb5f;},'fnvyY':function(_0xe91ea6,_0x243793){return _0xe91ea6<_0x243793;},'GZPht':_0x3a67('0xdb'),'avjse':_0x3a67('0x79'),'aLmic':_0x3a67('0x5'),'EYKvX':function(_0x58036b,_0x5e7efe){return _0x58036b===_0x5e7efe;},'XWTrG':function(_0x7db45a,_0x757548){return _0x7db45a!==_0x757548;},'NyiWM':_0x3a67('0x5b'),'IiLDc':_0x3a67('0x9c'),'tPeFV':function(_0x9e8bdc,_0x366bdb){return _0x9e8bdc===_0x366bdb;}},_0x42ac9e=BrowserWindow['getFocusedWindow']();if(!_0x42ac9e)return;if(_0x31a08c[_0x3a67('0x4a')](_0x42ac9e,_MainWin)){if(_0x31a08c[_0x3a67('0x3f')](_0x31a08c[_0x3a67('0x36')],'lNWiV')){function _0x4c4f39(){console[_0x3a67('0x41')](_0x31a08c[_0x3a67('0x72')],msg,args),_0x31a08c['Ixcqa'](handleEchoEvent,msg,args);}}else{if(_0x31a08c[_0x3a67('0xc0')](_UpdateProgress,0x0)&&_0x31a08c['fnvyY'](_UpdateProgress,0x1)){var _0xfba8e7=dialog[_0x3a67('0xd2')](_MainWin,{'type':_0x31a08c[_0x3a67('0xdc')],'buttons':[_0x3a67('0x59'),_0x31a08c['avjse']],'defaultId':0x1,'title':_0x31a08c[_0x3a67('0xa7')],'message':_0x3a67('0x34')});if(_0x31a08c['EYKvX'](_0xfba8e7,0x1)){if(_0x31a08c[_0x3a67('0xe2')](_0x31a08c['NyiWM'],_0x31a08c['IiLDc'])){_0xe7d92d[_0x3a67('0xa5')]();return;}else{function _0x3e31a4(){_MainWin[_0x3a67('0x18')]['send'](msg,arg);}}}else{if(_0x31a08c['tPeFV'](_0x3a67('0xe4'),_0x3a67('0x8b'))){function _0x2895e8(){if(_MainWin)return;_MainWin=new BrowserWindow({'useContentSize':!![],'width':_UserData[_0x3a67('0x2')](CONSTANTS['USER_DATA_SCHEMA_KEY']['CLIENT_WIDTH']),'height':_UserData[_0x3a67('0x2')](CONSTANTS[_0x3a67('0x66')]['CLIENT_HEIGHT']),'minWidth':0x280,'minHeight':0x1e0,'icon':CONSTANTS[_0x3a67('0x67')],'show':![],'autoHideMenuBar':!![],'webPreferences':{'devTools':!CONSTANTS[_0x3a67('0x16')],'enableRemoteModule':!![],'webviewTag':!![],'nodeIntegration':!![],'preload':CONSTANTS[_0x3a67('0xd7')]}}),_MainWin[_0x3a67('0xa6')]({'appId':CONSTANTS['PRODUCT_NAME'],'appIconPath':CONSTANTS[_0x3a67('0x4f')],'relaunchDisplayName':CONSTANTS['PRODUCT_NAME']}),_MainWin['on'](_0x31a08c[_0x3a67('0x45')],function(){_MainWin['show']();}),_MainWin['on'](_0x31a08c['ijSRn'],function(_0x33e9e0){closeFocusWindow(_0x33e9e0);}),_MainWin['on'](_0x31a08c[_0x3a67('0xe5')],function(){_Tray=null,_MainWin=null;}),_MainWin['webContents'][_0x3a67('0x1e')](CONSTANTS[_0x3a67('0x89')],sendLoadedToRenderer),_MainWin[_0x3a67('0x18')]['on'](CONSTANTS[_0x3a67('0x89')],sendLoadedToRenderer),_MainWin[_0x3a67('0x6d')](CONSTANTS[_0x3a67('0x2b')]),_0x31a08c[_0x3a67('0x3b')](doCheckUpdate),Menu['setApplicationMenu'](null),_0x31a08c['uKKkT'](openSystemTray),_0x31a08c[_0x3a67('0xa1')](preventDisplaySleep,_UserData[_0x3a67('0x2')](CONSTANTS[_0x3a67('0x66')][_0x3a67('0xb1')]));}}else _UpdateProgress=0x0;}}_0x31a08c[_0x3a67('0x3b')](saveUserDataBeforeQuit),_Tray&&_Tray[_0x3a67('0xa9')](),_MainWin['destroy'](),quitApplication();}}else _0x42ac9e[_0x3a67('0xb8')](),_0x42ac9e[_0x3a67('0xa9')]();}function quitApplication(){app[_0x3a67('0x29')]();}function preventDisplaySleep(_0x8677eb){_PowerID&&powerSaveBlocker[_0x3a67('0xbe')](_PowerID),_UserData[_0x3a67('0x42')](CONSTANTS[_0x3a67('0x66')][_0x3a67('0xb1')],_0x8677eb),_PowerID=_0x8677eb?powerSaveBlocker['start'](CONSTANTS[_0x3a67('0x23')]):null;}function getFeedUrl(){var _0x4f58f3={'yAZPd':function(_0x44c016){return _0x44c016();},'bfNga':'4|0|5|2|1|3|6','HSihi':_0x3a67('0x6f'),'kygpk':_0x3a67('0x6e'),'IISJn':function(_0x560974,_0x571dac){return _0x560974!==_0x571dac;},'NoHPk':'darwin','YjgWq':function(_0x2f48d7,_0x3dcaae){return _0x2f48d7===_0x3dcaae;},'iCPlw':_0x3a67('0xc8'),'wCirw':'BYftc','uPJaE':'x64','BIurn':_0x3a67('0x5f'),'AdYrD':_0x3a67('0xda'),'YLZyt':_0x3a67('0xaf'),'CDJPl':_0x3a67('0x95')},_0x404658=OS[_0x3a67('0xab')](),_0x361efe=OS[_0x3a67('0xa2')]();if(_0x4f58f3[_0x3a67('0x94')](_0x361efe,_0x4f58f3[_0x3a67('0x22')])){if(_0x4f58f3[_0x3a67('0x55')](_0x4f58f3['wCirw'],'zafqD')){if(_0x4f58f3['YjgWq'](_0x404658,_0x4f58f3[_0x3a67('0x71')])){if(_0x4f58f3[_0x3a67('0x94')](_0x4f58f3[_0x3a67('0x80')],_0x4f58f3[_0x3a67('0x80')]))return CONSTANTS[_0x3a67('0xca')];else{function _0x47ec22(){var _0x59e8a7=_0x4f58f3[_0x3a67('0x8d')]['split']('|'),_0x2db94e=0x0;while(!![]){switch(_0x59e8a7[_0x2db94e++]){case'0':var _0x45c8d3=Menu[_0x3a67('0xe3')]([{'label':CONSTANTS[_0x3a67('0xbd')],'click':function _0x180c3c(){_0x4f58f3[_0x3a67('0x1b')](quitApplication);}}]);continue;case'1':_Tray[_0x3a67('0x3c')](CONSTANTS[_0x3a67('0x73')]);continue;case'2':_Tray[_0x3a67('0x5d')](_0x45c8d3);continue;case'3':_Tray['on'](_0x4f58f3['HSihi'],function(){_MainWin[_0x3a67('0x3d')]();});continue;case'4':if(_Tray)return;continue;case'5':_Tray=new Tray(CONSTANTS[_0x3a67('0x4f')]);continue;case'6':_Tray['on'](_0x4f58f3[_0x3a67('0xe8')],function(){_Tray[_0x3a67('0x6a')](_0x45c8d3);});continue;}break;}}}}else{if(_0x4f58f3[_0x3a67('0x94')](_0x404658,_0x3a67('0x85'))){if(_0x4f58f3['AdYrD']===_0x4f58f3[_0x3a67('0x3e')]){function _0xc0201c(){return CONSTANTS[_0x3a67('0xca')];}}else return CONSTANTS['FEED_URL_FOR_WIN_64'];}}}else{function _0xb337c5(){if(_0x4f58f3[_0x3a67('0x55')](process['platform'],_0x4f58f3[_0x3a67('0x9e')]))app[_0x3a67('0x29')]();}}}else{if(_0x4f58f3[_0x3a67('0x94')](_0x361efe,_0x4f58f3['NoHPk'])){if(_0x4f58f3[_0x3a67('0x94')](_0x4f58f3[_0x3a67('0xae')],_0x3a67('0x95')))return CONSTANTS[_0x3a67('0xbf')];else{function _0x47c202(){if(!_MainWin)return;_MainWin[_0x3a67('0x18')][_0x3a67('0x26')](_UserData[_0x3a67('0x2')](CONSTANTS[_0x3a67('0x66')][_0x3a67('0xe6')]));}}}}return undefined;}function doCheckUpdate(){var _0x641323={'RccEA':function(_0x287b8b,_0x2ee59a){return _0x287b8b!==_0x2ee59a;},'ALRtJ':_0x3a67('0xe0'),'JsCfT':_0x3a67('0x56'),'Katdg':_0x3a67('0xe1'),'sAjvb':_0x3a67('0xaa'),'lHQrL':'发现新版本，是否立即下载并更新？','WEeXv':'1|3|2|4|0','CMpdG':function(_0x3aa9c1){return _0x3aa9c1();},'rRBfj':function(_0x47a077,_0x1a8530){return _0x47a077>_0x1a8530;},'tBhNq':function(_0x48b99a,_0x1fddb9){return _0x48b99a<_0x1fddb9;},'vHxiU':'warning','eGwdH':_0x3a67('0x79'),'XsRxg':_0x3a67('0x5'),'geGau':_0x3a67('0x34'),'rNUjb':function(_0x4a81cc,_0x364146){return _0x4a81cc===_0x364146;},'hAfWI':function(_0x25c27a,_0x2d1c5f){return _0x25c27a(_0x2d1c5f);},'mwaTs':function(_0x1e5ae6,_0x567168){return _0x1e5ae6+_0x567168;},'FDPEN':function(_0x21f42f,_0x8630d9){return _0x21f42f*_0x8630d9;},'oVwit':function(_0x202cf1,_0x2f1fda){return _0x202cf1!==_0x2f1fda;},'weYBM':'WZIkc','kKDOO':'iPudb','hXRwV':function(_0x53fa31,_0x163cc2,_0x1e09a7){return _0x53fa31(_0x163cc2,_0x1e09a7);},'VScia':_0x3a67('0x76'),'drWtX':_0x3a67('0x44'),'Peztu':function(_0x54e285,_0x1a562f){return _0x54e285(_0x1a562f);},'AIdGF':function(_0x287454,_0x248c5e){return _0x287454+_0x248c5e;},'VfFTP':_0x3a67('0x14'),'SPMqz':function(_0x11c52f,_0x49a01e){return _0x11c52f*_0x49a01e;},'EAeMi':_0x3a67('0x78'),'gnFcb':_0x3a67('0xc6'),'UOuuT':function(_0x3137fc,_0x17bba1){return _0x3137fc(_0x17bba1);},'fwBnx':_0x3a67('0x97'),'uYbik':function(_0x214aa7,_0x384579,_0x509a1d){return _0x214aa7(_0x384579,_0x509a1d);},'EIfwD':_0x3a67('0xb9'),'sRYLr':_0x3a67('0x50')},_0x66f2d3=getFeedUrl();console[_0x3a67('0x41')](_0x3a67('0x2d'),_0x66f2d3);if(!_0x66f2d3)return;autoUpdater[_0x3a67('0xc9')](),autoUpdater[_0x3a67('0x7b')]=![],autoUpdater[_0x3a67('0x19')](_0x66f2d3),autoUpdater[_0x3a67('0xa')](),autoUpdater['on'](_0x641323[_0x3a67('0xb6')],function(_0x24d916){if(_0x641323[_0x3a67('0x12')](_0x641323['ALRtJ'],_0x641323[_0x3a67('0xc3')]))_MainWin[_0x3a67('0x46')](_UpdateProgress,{'mode':'error'});else{function _0x298b15(){win[_0x3a67('0xb8')](),win[_0x3a67('0xa9')]();}}}),autoUpdater['on']('update-available',function(_0x2b0095){var _0x4f3322={'QMPuo':_0x3a67('0xde'),'nFTAp':function(_0x644698,_0x51c35d){return _0x641323[_0x3a67('0x20')](_0x644698,_0x51c35d);},'rDwMy':function(_0x33d797,_0x34e4da){return _0x33d797+_0x34e4da;},'GUiSz':function(_0xb32294,_0x338510){return _0x641323[_0x3a67('0xcf')](_0xb32294,_0x338510);},'aeTcU':function(_0xabb5e6,_0x11917d){return _0x641323[_0x3a67('0x84')](_0xabb5e6,_0x11917d);},'SbFIf':'下载进度'};if(_0x641323[_0x3a67('0x4b')](_0x641323[_0x3a67('0x2c')],_0x641323[_0x3a67('0xb3')]))_0x641323['CMpdG'](viewHelpPage),_0x641323[_0x3a67('0x1a')](setTimeout,function(){if(_0x641323[_0x3a67('0x12')](_0x641323[_0x3a67('0x7e')],_0x641323[_0x3a67('0x4d')]))sendUpdateToRenderer(JSON['stringify']({'type':CONSTANTS['IPC_MSG_UPDATE_AVAILABLE'],'info':_0x2b0095,'msg':_0x641323['lHQrL']}));else{function _0x2c6256(){var _0x251c7a=_0x4f3322[_0x3a67('0x2e')][_0x3a67('0x28')]('|'),_0x1f7b8a=0x0;while(!![]){switch(_0x251c7a[_0x1f7b8a++]){case'0':_0x4f3322[_0x3a67('0xcc')](sendUpdateToRenderer,JSON[_0x3a67('0x2f')]({'type':CONSTANTS[_0x3a67('0xd')],'info':_0x2b0095,'msg':_0x4f3322[_0x3a67('0x17')](_0x4f3322[_0x3a67('0x74')]('正在下载安装包\x20',_0x2b0095['percent'][_0x3a67('0xbb')](0x2)),'%')}));continue;case'1':_MainWin[_0x3a67('0x46')](_UpdateProgress,{'mode':_0x3a67('0x93')});continue;case'2':if(!_MainWin)return;continue;case'3':_UpdateProgress=_0x4f3322['aeTcU'](_0x2b0095['percent'],0.01);continue;case'4':console[_0x3a67('0x41')](_0x4f3322['SbFIf'],_0x2b0095[_0x3a67('0x0')]['toFixed'](0x2));continue;}break;}}}},0x64);else{function _0x1163c4(){var _0x55f54a=_0x641323['WEeXv'][_0x3a67('0x28')]('|'),_0x8760e1=0x0;while(!![]){switch(_0x55f54a[_0x8760e1++]){case'0':_0x641323['CMpdG'](quitApplication);continue;case'1':if(_0x641323['rRBfj'](_UpdateProgress,0x0)&&_0x641323['tBhNq'](_UpdateProgress,0x1)){var _0x1f67f2=dialog[_0x3a67('0xd2')](_MainWin,{'type':_0x641323[_0x3a67('0x61')],'buttons':[_0x3a67('0x59'),_0x641323[_0x3a67('0xcb')]],'defaultId':0x1,'title':_0x641323['XsRxg'],'message':_0x641323['geGau']});if(_0x641323[_0x3a67('0x21')](_0x1f67f2,0x1)){e[_0x3a67('0xa5')]();return;}else _UpdateProgress=0x0;}continue;case'2':_Tray&&_Tray['destroy']();continue;case'3':_0x641323[_0x3a67('0x24')](saveUserDataBeforeQuit);continue;case'4':_MainWin[_0x3a67('0xa9')]();continue;}break;}}}}),autoUpdater['on'](_0x3a67('0x60'),function(_0x31a752){}),autoUpdater['on'](_0x3a67('0x27'),function(_0x29b52a){var _0x2907c9=_0x641323[_0x3a67('0x39')][_0x3a67('0x28')]('|'),_0x4c5e8d=0x0;while(!![]){switch(_0x2907c9[_0x4c5e8d++]){case'0':console[_0x3a67('0x41')](_0x641323[_0x3a67('0x51')],_0x29b52a[_0x3a67('0x0')]['toFixed'](0x2));continue;case'1':_0x641323[_0x3a67('0x52')](sendUpdateToRenderer,JSON['stringify']({'type':CONSTANTS['IPC_MSG_UPDATE_PROGRESS'],'info':_0x29b52a,'msg':_0x641323['AIdGF'](_0x641323[_0x3a67('0x4c')](_0x641323[_0x3a67('0x8e')],_0x29b52a['percent'][_0x3a67('0xbb')](0x2)),'%')}));continue;case'2':_UpdateProgress=_0x641323[_0x3a67('0x96')](_0x29b52a['percent'],0.01);continue;case'3':_MainWin[_0x3a67('0x46')](_UpdateProgress,{'mode':'normal'});continue;case'4':if(!_MainWin)return;continue;}break;}}),autoUpdater['on'](_0x641323[_0x3a67('0xb')],function(_0x2508da){_0x641323[_0x3a67('0xe')](sendUpdateToRenderer,JSON['stringify']({'type':CONSTANTS['IPC_MSG_UPDATE_DOWNLOADED'],'info':_0x2508da,'msg':_0x641323[_0x3a67('0x1f')]})),_0x641323[_0x3a67('0xa8')](setTimeout,function(){if(_0x641323[_0x3a67('0x4b')](_0x641323[_0x3a67('0x13')],_0x641323['gnFcb']))autoUpdater['quitAndInstall']();else{function _0x459814(){_MainWin[_0x3a67('0x3d')]();}}},0xbb8);});}function doDownloadUpdate(){autoUpdater['downloadUpdate']();}ipcMain['on'](CONSTANTS[_0x3a67('0x92')],function(_0x3ecded,_0x3f06be,_0x4056a4){var _0x614958={'KgPxQ':_0x3a67('0x9d'),'WUaON':function(_0x103a4c,_0x59e595,_0x179631){return _0x103a4c(_0x59e595,_0x179631);}};console[_0x3a67('0x41')](_0x614958['KgPxQ'],_0x3f06be,_0x4056a4),_0x614958[_0x3a67('0x2a')](handleEchoEvent,_0x3f06be,_0x4056a4);}),app['on'](CONSTANTS[_0x3a67('0x92')],function(_0x27e8fb,_0x314355,_0x20e53b){var _0x2147ca={'ZiSWF':'recv\x20app\x20event:','ZLWqo':function(_0x15bfc1,_0xb7fed9,_0x119947){return _0x15bfc1(_0xb7fed9,_0x119947);}};console['log'](_0x2147ca[_0x3a67('0xd3')],_0x314355,_0x20e53b),_0x2147ca[_0x3a67('0xce')](handleEchoEvent,_0x314355,_0x20e53b);});function handleEchoEvent(_0x1637eb,_0x4fa85e){var _0x1565d7={'MwKsU':function(_0x1eddfc){return _0x1eddfc();},'aqQbI':function(_0x4531dd){return _0x4531dd();},'zqAuc':function(_0x3085ab){return _0x3085ab();},'rzJOH':function(_0x344789,_0xf37d5d){return _0x344789(_0xf37d5d);},'uydbf':function(_0xaad6dc){return _0xaad6dc();},'CMvHt':function(_0x142a5e){return _0x142a5e();},'MzKrq':function(_0x2655be){return _0x2655be();}};switch(_0x1637eb){case CONSTANTS[_0x3a67('0x87')]:_0x1565d7[_0x3a67('0xb7')](viewHelpPage);break;case CONSTANTS[_0x3a67('0x15')]:_0x1565d7[_0x3a67('0x64')](viewHomePage);break;case CONSTANTS['IPC_MSG_CHANGE_FULLSCREEN']:_0x1565d7[_0x3a67('0x64')](changeFullscreen);break;case CONSTANTS[_0x3a67('0x69')]:_0x1565d7['zqAuc'](openDevTools);break;case CONSTANTS[_0x3a67('0x63')]:_UserData[_0x3a67('0x42')](CONSTANTS[_0x3a67('0x66')][_0x3a67('0xe6')],_0x4fa85e);break;case CONSTANTS[_0x3a67('0x5a')]:_UserData[_0x3a67('0x42')](CONSTANTS[_0x3a67('0x66')][_0x3a67('0xe6')],_0x4fa85e);break;case CONSTANTS[_0x3a67('0xf')]:_0x1565d7['zqAuc'](openReadPage);break;case CONSTANTS[_0x3a67('0xc5')]:_0x1565d7[_0x3a67('0x7')](exportBookNotes,_0x4fa85e);break;case CONSTANTS[_0x3a67('0xc2')]:_0x1565d7['uydbf'](viewHelpPage),_0x1565d7['CMvHt'](doCheckUpdate);break;case CONSTANTS[_0x3a67('0x8a')]:_0x1565d7[_0x3a67('0x9a')](doDownloadUpdate);break;}}